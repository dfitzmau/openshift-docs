:_mod-docs-content-type: ASSEMBLY
[id="configuring-ingress-cluster-traffic-ingress-controller"]
= Configuring ingress cluster traffic using an Ingress Controller
include::_attributes/common-attributes.adoc[]
:context: configuring-ingress-cluster-traffic-ingress-controller

toc::[]

{product-title} provides methods for communicating from outside the cluster with
services running in the cluster. This method uses an Ingress Controller.

ifdef::openshift-enterprise,openshift-webscale,openshift-origin[]
// Using Ingress Controllers and routes
include::modules/nw-using-ingress-and-routes.adoc[leveloffset=+1]

// Ingress sharding in {product-title}
include::modules/configuring-ingress-cluster-ingress-sharding.adoc[leveloffset=+1]

// Ingress Controller sharding
include::modules/nw-ingress-sharding.adoc[leveloffset=+2]

// Traditional sharding example
include::modules/nw-ingress-sharding-traditional.adoc[leveloffset=+2]

// Overlapped sharding example
include::modules/nw-ingress-overlapped-sharding.adoc[leveloffset=+2]

// Sharding the default Ingress Controller
include::modules/nw-ingress-sharding-default.adoc[leveloffset=+2]

// Ingress sharding and DNS
include::modules/nw-ingress-sharding-dns.adoc[leveloffset=+2]

// Configuring Ingress Controller sharding by using route labels
include::modules/nw-ingress-sharding-route-labels.adoc[leveloffset=+2]

// Configuring Ingress Controller sharding by using namespace labels
include::modules/nw-ingress-sharding-namespace-labels.adoc[leveloffset=+2]

// Creating a route for Ingress Controller sharding
include::modules/nw-ingress-sharding-route-configuration.adoc[leveloffset=+1]

[id="additional-resources_ingress-sharding"]
== Additional Resources

* xref:../scalability_and_performance/optimization/routing-optimization.adoc#baseline-router-performance_routing-optimization[Baseline Ingress Controller (router) performance]

* xref:../../networking/ingress-operator.adoc#configuring-ingress[Ingress Operator in {product-title}]

* xref:../../installing/installing_bare_metal/installing-bare-metal.adoc#installing-bare-metal[Installing a cluster on bare metal]

* xref:../../installing/installing_vsphere/upi/installing-vsphere.adoc#installing-vsphere[Installing a cluster on vSphere]

* xref:../../networking/openshift_network_security/network_policy/about-network-policy.adoc#about-network-policy[About network policy]

// Ingress Controller endpoint publishing strategy
include::modules/nw-ingress-controller-endpoint-publishing-strategies.adoc[leveloffset=+1]

// Configuring the Ingress Controller endpoint publishing scope to Internal
include::modules/nw-ingresscontroller-change-internal.adoc[leveloffset=+2]

// Configuring the Ingress Controller endpoint publishing scope to External
include::modules/nw-ingresscontroller-change-external.adoc[leveloffset=+2]

[role="_additional-resources"]
[id="additional-resources_nw-ingress-controller-endpoint-publishing-strategies"]
== Additional resources

* xref:../networking/ingress-operator.adoc#nw-ingress-controller-configuration-parameters_configuring-ingress[Ingress Controller configuration parameters]

[NOTE]
====
The procedures in this section require prerequisites performed by the cluster
administrator.
====

== Prerequisites

Before starting the following procedures, the administrator must:

* Set up the external port to the cluster networking environment so that requests
can reach the cluster.

* Make sure there is at least one user with cluster admin role. To add this role
to a user, run the following command:
+
----
$ oc adm policy add-cluster-role-to-user cluster-admin username
----

* Have an {product-title} cluster with at least one master and at least one node
and a system outside the cluster that has network access to the cluster. This
procedure assumes that the external system is on the same subnet as the cluster.
The additional networking required for external systems on a different subnet is
out-of-scope for this topic.
endif::openshift-enterprise,openshift-webscale,openshift-origin[]

include::modules/nw-creating-project-and-service.adoc[leveloffset=+1]

include::modules/nw-exposing-service.adoc[leveloffset=+1]
