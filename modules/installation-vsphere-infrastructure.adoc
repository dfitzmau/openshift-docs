// Module included in the following assemblies:
//
// * installing/installing_vsphere/installing-restricted-networks-vsphere.adoc
// * installing/installing_vsphere/installing-vsphere.adoc
// * installing/installing_vsphere/installing-vsphere-network-customizations.adoc
// * installing/installing_vsphere/installing-vsphere-installer-provisioned.adoc
// * installing/installing_vsphere/installing-vsphere-installer-provisioned-customizations.adoc
// * installing/installing_vsphere/installing-vsphere-installer-provisioned-network-customizations.adoc
// * installing/installing_vsphere/installing-restricted-networks-installer-provisioned-vsphere.adoc
// * installing/installing_vsphere/preparing-to-install-on-vsphere.adoc
// * installing/installing_vmc/installing-restricted-networks-vmc.adoc
// * installing/installing_vmc/installing-restricted-networks-vmc-user-infra.adoc
// * installing/installing_vmc/installing-vmc-user-infra.adoc
// * installing/installing_vmc/installing-vmc-network-customizations-user-infra.adoc
// * installing/installing_vmc/installing-vmc.adoc
// * installing/installing_vmc/installing-vmc-customizations.adoc
// * installing/installing_vmc/installing-vmc-network-customizations.adoc
// * installing/installing_vmc/preparing-to-install-on-vmc.adoc

ifeval::["{context}" == "installing-restricted-networks-vmc"]
:vmc:
endif::[]
ifeval::["{context}" == "installing-restricted-networks-vmc-user-infra"]
:vmc:
endif::[]
ifeval::["{context}" == "installing-vmc-user-infra"]
:vmc:
endif::[]
ifeval::["{context}" == "installing-vmc-network-customizations-user-infra"]
:vmc:
endif::[]
ifeval::["{context}" == "installing-vmc"]
:vmc:
endif::[]
ifeval::["{context}" == "installing-vmc-customizations"]
:vmc:
endif::[]
ifeval::["{context}" == "installing-vmc-network-customizations"]
:vmc:
endif::[]
ifeval::["{context}" == "preparing-to-install-on-vmc"]
:vmc:
endif::[]

[id="installation-vsphere-infrastructure_{context}"]
= VMware vSphere infrastructure requirements

You must install an {product-title} cluster on one of the following versions of a {vmw-full} instance that meets the requirements for the components that you use:

* Version 7.0 Update 2 or later
* Version 8.0 Update 1 or later

[IMPORTANT]
====
If you need to upgrade an {product-title} {product-version} cluster to {product-title} 4.14, you must ensure that your {vmw-full} instance is updated to one of the following listed versions:

* Version 7.0 Update 3 or later
* Version 8.0 Update 2 or later

By updating to one of the previously listed versions, you can avoid a known issue, which caused the cluster upgrade operation to fail, that occurs from upgrading an {product-title} {product-version} cluster with the in-tree plugin driver enabled to a {product-title} 4.14 cluster that has Container Storage Interface (CSI) migration enabled by default.
====

You can host the {vmw-full} infrastructure on-premise or on a link:https://cloud.vmware.com/providers[VMware Cloud Verified provider] that meets the requirements outlined in the following table:

.Version requirements for vSphere virtual environments
[cols=2, options="header"]
|===
|Virtual environment product |Required version
|VMware virtual hardware | 15 or later
|vSphere ESXi hosts | 7.0 Update 2 or later
|vCenter host   | 7.0 Update 2 or later
|===

.Minimum supported vSphere version for VMware components
|===
|Component | Minimum supported versions |Description

|Hypervisor
|vSphere 7.0 Update 2 and later with virtual hardware version 15
|This version is the minimum version that {op-system-first} supports. For more information about supported hardware on the latest version of {op-system-base-full} that is compatible with {op-system}, see link:https://catalog.redhat.com/hardware/search[Hardware] on the Red Hat Customer Portal.

|Storage with in-tree drivers
|vSphere 7.0 Update 2 and later
|This plugin creates vSphere storage by using the in-tree storage drivers for vSphere included in {product-title}.

ifndef::vmc[]
|Optional: Networking (NSX-T)
|vSphere 7.0 Update 2 and later
|vSphere 7.0 Update 2 is required for {product-title}. For more information about the compatibility of NSX and {product-title}, see the Release Notes section of VMware's link:https://docs.vmware.com/en/VMware-NSX-Container-Plugin/index.html[NSX container plugin documentation].
endif::vmc[]
|===

[IMPORTANT]
====
You must ensure that the time on your ESXi hosts is synchronized before you install {product-title}. See link:https://docs.vmware.com/en/VMware-vSphere/6.7/com.vmware.vsphere.vcenterhost.doc/GUID-8756D419-A878-4AE0-9183-C6D5A91A8FB1.html[Edit Time Configuration for a Host] in the VMware documentation.
====

ifeval::["{context}" == "installing-restricted-networks-vmc"]
:!vmc:
endif::[]
ifeval::["{context}" == "installing-restricted-networks-vmc-user-infra"]
:!vmc:
endif::[]
ifeval::["{context}" == "installing-vmc-user-infra"]
:!vmc:
endif::[]
ifeval::["{context}" == "installing-vmc-network-customizations-user-infra"]
:!vmc:
endif::[]
ifeval::["{context}" == "installing-vmc"]
:!vmc:
endif::[]
ifeval::["{context}" == "installing-vmc-customizations"]
:!vmc:
endif::[]
ifeval::["{context}" == "installing-vmc-network-customizations"]
:!vmc:
endif::[]
ifeval::["{context}" == "preparing-to-install-on-vmc"]
:!vmc:
endif::[]
